{
  "project_info": {
    "app_name": "Eco Drive",
    "app_description": "Android 12 IVI(In-Vehicle Infotainment)용 친환경 운전 포인트 적립 및 관리 앱",
    "tagline": "Drive Smart, Earn Green.",
    "target_platform": "Android 12+ (IVI System)",
    "language": "Kotlin",
    "architecture": "MVVM (Model-View-ViewModel)",
    "ui_framework": "Jetpack Compose",
    "web_prototype": {
      "framework": "React + TypeScript",
      "styling": "Tailwind CSS v4.0",
      "animation": "Motion (Framer Motion)",
      "charts": "Recharts",
      "note": "웹 프로토타입은 Android 앱 개발 전 디자인 검증용"
    }
  },
  
  "display_specifications": {
    "screen_resolution": "1920x720",
    "aspect_ratio": "8:3 (Wide Display)",
    "orientation": "Landscape (고정)",
    "active_area": {
      "width": 1920,
      "height": 640,
      "note": "상단 80px 제외 (status bar safe zone)"
    },
    "safe_zones": {
      "top": "80px",
      "left": "40px",
      "right": "40px",
      "bottom": "40px"
    }
  },

  "ivi_guidelines": {
    "touch_target": {
      "minimum_size": "88x88dp",
      "description": "모든 터치 가능한 요소는 최소 88x88dp 이상",
      "examples": [
        "네비게이션 버튼: 88x88px",
        "주간 캘린더 요일 박스: 64x64px (작게 조정)",
        "주/월 전환 버튼: 44x44px (최소값)"
      ]
    },
    "font_sizes": {
      "unit": "sp (scalable pixels)",
      "sizes": {
        "extra_large_title": "32sp",
        "large_title": "28sp",
        "title": "24sp",
        "subtitle": "20sp",
        "body": "18sp",
        "body_medium": "16sp",
        "body_small": "15sp",
        "caption": "14sp",
        "caption_small": "12sp"
      }
    },
    "spacing": {
      "horizontal_margin": "40px",
      "vertical_margin": "40px",
      "card_gap": "24px",
      "element_gap": "12px"
    }
  },

  "design_system": {
    "theme": "Dark Theme",
    "color_palette": {
      "background": {
        "primary": "#121212",
        "secondary": "#1A1A1A",
        "tertiary": "#1E1E1E",
        "card": "#242424",
        "elevated": "#2E2E2E"
      },
      "primary_colors": {
        "main": "#81C784",
        "light": "#A5D6A7",
        "dark": "#66BB6A"
      },
      "secondary_colors": {
        "main": "#64B5F6",
        "light": "#90CAF9",
        "dark": "#42A5F5"
      },
      "text": {
        "primary": "#FFFFFF",
        "secondary": "#B0BEC5",
        "disabled": "#757575"
      },
      "accent": {
        "warning": "#FFC107",
        "warning_alt": "#FFD54F",
        "error": "#EF5350",
        "error_dark": "#E53935",
        "success": "#81C784"
      },
      "border": "#2E2E2E",
      "soil_colors": {
        "primary": "#8D6E63",
        "secondary": "#A1887F",
        "dark": "#6D4C41",
        "pot": ["#4E342E", "#3E2723", "#5D4037", "#6D4C41"]
      }
    },
    "typography": {
      "font_family": "Roboto (Android Default)",
      "font_weights": {
        "regular": 400,
        "medium": 500,
        "semibold": 600,
        "bold": 700
      }
    },
    "elevation": {
      "card": "8dp",
      "dialog": "16dp",
      "navigation": "12dp"
    },
    "border_radius": {
      "small": "8dp",
      "medium": "12dp",
      "large": "16dp",
      "extra_large": "20dp"
    }
  },

  "app_structure": {
    "navigation": {
      "type": "Side Navigation (왼쪽)",
      "width": "140px",
      "position": "fixed",
      "background": "#1E1E1E",
      "shadow": "4px 0 10px rgba(0,0,0,0.3)",
      "items": [
        {
          "id": "main",
          "label": "메인 화면",
          "icon": "Home",
          "screen": "MainDashboardScreen",
          "file": "/components/MainDashboardPage.tsx"
        },
        {
          "id": "points",
          "label": "포인트 관리",
          "icon": "BarChart3",
          "screen": "PointManagementScreen",
          "file": "/components/PointManagementPage.tsx"
        },
        {
          "id": "analysis",
          "label": "운전자 분석",
          "icon": "TrendingUp",
          "screen": "DriverAnalysisScreen",
          "file": "/components/DriverAnalysisPage.tsx"
        }
      ],
      "logo": {
        "type": "Custom SVG - 새싹 로고",
        "size": "64dp (w-16 h-16)",
        "file": "/components/SideNav.tsx",
        "design": {
          "background": "그라디언트 원형 (#81C784 to #64B5F6)",
          "border_radius": "16dp (rounded-2xl)",
          "shadow": "0 4px 16px rgba(129,199,132,0.4)",
          "svg_content": {
            "description": "흙에서 돋아나는 새싹",
            "viewBox": "40x40",
            "elements": [
              {
                "name": "흙더미",
                "shapes": [
                  "ellipse cx=20 cy=30 rx=14 ry=4 fill=#8D6E63",
                  "path (흙 윤곽) fill=#A1887F",
                  "작은 돌 2개 (ellipse) fill=#6D4C41"
                ]
              },
              {
                "name": "줄기",
                "shape": "path M20,24 L20,14 stroke=#7CB342 strokeWidth=1.5"
              },
              {
                "name": "왼쪽 잎",
                "shapes": [
                  "path (곡선 잎 형태) fill=#9CCC65",
                  "내부 하이라이트 fill=#8BC34A opacity=0.7",
                  "잎맥 stroke=#7CB342"
                ]
              },
              {
                "name": "오른쪽 잎",
                "shapes": [
                  "path (곡선 잎 형태) fill=#9CCC65",
                  "내부 하이라이트 fill=#8BC34A opacity=0.7",
                  "잎맥 stroke=#7CB342"
                ]
              }
            ]
          }
        }
      },
      "button_specs": {
        "min_height": "88px",
        "min_width": "88px",
        "gap": "12px (gap-3)",
        "active_indicator": {
          "background": "#64B5F6/20",
          "border": "2px solid #64B5F6",
          "shadow": "0 0 16px rgba(100,181,246,0.3)",
          "animation": "layoutId transition with spring"
        }
      }
    },
    
    "screens": [
      {
        "name": "SplashScreen",
        "file": "/components/SplashScreenDark.tsx",
        "description": "앱 시작 시 3초간 표시되는 스플래시 화면",
        "features": [
          "그라디언트 배경 (#121212 to #1E1E1E)",
          "중앙에 Eco Drive 로고 (140dp 원형)",
          "로고 내부에 자동차+나뭇잎 아이콘",
          "앱 이름 'Eco Drive' (32sp, #81C784)",
          "태그라인 'Drive Smart, Earn Green.' (20sp, #64B5F6)",
          "하단에 3개의 점 로딩 애니메이션",
          "전체 화면 1920x720"
        ],
        "animations": [
          "로고 회전 + 스케일 인 (0 → 1, 1초)",
          "배경 원형 파동 효과 (무한 반복)",
          "로딩 점 순차 페이드 인/아웃"
        ],
        "duration": "3초",
        "implementation": {
          "useState": "isLoading (true → false)",
          "useEffect": "setTimeout 3000ms",
          "transition": "조건부 렌더링"
        }
      },
      
      {
        "name": "MainDashboardScreen",
        "file": "/components/MainDashboardPage.tsx",
        "description": "메인 대시보드 - 식물 성장 및 포인트 적립 시각화",
        "layout": {
          "header": {
            "position": "top-left (80px 내)",
            "margin": "top-6 left-16",
            "elements": [
              "날짜/요일 텍스트 (18sp, #B0BEC5) - '2025년 8월 14일 목요일'",
              "날씨 정보 (아이콘 + 온도 + 지역, 16sp, #64B5F6) - Sun icon + '22°C | 맑음 | 서울특별시'"
            ]
          },
          "center_area": {
            "position": "top-[100px] bottom-0 left-0 right-[400px]",
            "width": "1520px (전체 - 사이드네비 140px - 우측패널 400px)",
            "height": "640px (활성 영역)",
            "content": "PlantScene Component",
            "alignment": "flex items-center justify-center"
          },
          "right_panel": {
            "width": "400px",
            "background": "없음 (투명)",
            "content": "FeedbackSidePanel Component"
          }
        },
        "components": {
          "plant_scene": {
            "file": "/components/PlantScene.tsx",
            "description": "포인트에 따라 성장하는 식물 애니메이션",
            "container_size": "600x400px",
            "growth_stages": [
              {
                "stage": 0,
                "name": "Seed (씨앗)",
                "point_range": "0-500",
                "implementation": "Figma imported PNG image",
                "asset": "figma:asset/d324268ea5e178c3f734a2767d6534572930cb97.png",
                "size": "280x280dp",
                "animation": "scale [1, 1.05, 1] + Y축 [0, -3, 0] (2.5초 무한 반복)"
              },
              {
                "stage": 1,
                "name": "Sprout (새싹)",
                "point_range": "501-1000",
                "implementation": "Figma imported PNG image",
                "asset": "figma:asset/9c1ab17231d6c41476937d6a962c1d21ec06d7f5.png",
                "size": "440x440dp",
                "animation": "scale [1, 1.02, 1] + Y축 [0, -2, 0] (3초 무한 반복)"
              },
              {
                "stage": 2,
                "name": "Full Grown Plant (다육식물)",
                "point_range": "1001+",
                "implementation": "Figma imported PNG image",
                "asset": "figma:asset/059b4c1516a5fd6752183a64bf754e660ef133b8.png",
                "size": "820x820dp",
                "animation": "Y축 [0, -4, 0] (3.5초 무한 반복)"
              }
            ],
            "pot": {
              "design": "SVG 화분 (200x120)",
              "viewBox": "0 0 200 120",
              "colors": {
                "gradient": ["#4E342E", "#3E2723"],
                "stroke": "#5D4037",
                "soil_top": "#6D4C41"
              },
              "shapes": [
                "화분 본체: path trapezoid",
                "흙 표면: ellipse cx=100 cy=30 rx=50 ry=10",
                "내부 흙: ellipse cx=100 cy=28 rx=45 ry=8"
              ],
              "position": "식물 아래, 중앙 정렬"
            },
            "watering_can": {
              "file": "figma:asset/7a8563f10ac551f86adc750974786d0e98c30e50.png",
              "position": "absolute right-[60px] top-[20px]",
              "size": "200x200",
              "animation": {
                "trigger": "showAnimation prop",
                "phases": [
                  "초기: opacity=0, y=-30, x=30",
                  "등장: opacity=1, y=0, x=0 (600ms)",
                  "기울어짐: rotate=-25deg (2500ms)",
                  "사라짐: opacity=0, y=-30 (1000ms)"
                ],
                "duration": "4000ms",
                "delay": "200ms",
                "easing": "[0.645, 0.045, 0.355, 1.0] (easeInOutCubic)"
              },
              "water_drops": {
                "count": 20,
                "color": "#64B5F6",
                "animation": [
                  "path stream: pathLength [0→1→0]",
                  "개별 drops: cy [180→330], opacity [0→0.9→0]",
                  "순차 delay: i * 0.06s"
                ],
                "filter": "drop-shadow(0 0 3px rgba(100,181,246,0.8))"
              }
            },
            "water_splash": {
              "position": "absolute left-1/2 top-[180px]",
              "size": "96x96px (w-24 h-24)",
              "animation": {
                "opacity": "[0, 0, 0.6, 0.8, 0]",
                "scale": "[0, 0, 1.2, 1.5, 2]",
                "duration": "1500ms",
                "delay": "2500ms"
              },
              "gradient": "radial-gradient(circle, rgba(100,181,246,0.4) 0%, transparent 70%)"
            },
            "sparkles": {
              "count": 16,
              "grid": "4x4 (35px spacing)",
              "base_position": "left-[180px] top-[140px]",
              "color": "#81C784",
              "size": "8px (w-2 h-2)",
              "animation": {
                "opacity": "[0, 1, 0.8, 0]",
                "scale": "[0, 1.2, 1.5, 0]",
                "y": "[0, -30, -60, -90]",
                "x": "좌우 교대 [-45 ~ +45]",
                "duration": "2600ms",
                "delay": "2800ms + i * 60ms"
              },
              "shadow": "0 0 10px rgba(129,199,132,0.9)"
            }
          },
          
          "points_earned_popup": {
            "description": "포인트 적립 시 표시되는 중앙 팝업",
            "file": "/components/MainDashboardPage.tsx (내부)",
            "trigger": "포인트 획득 이벤트 (2초 후)",
            "display": "2.8초 딜레이 후 페이드인",
            "position": "mt-6 (PlantScene 아래)",
            "content": [
              "ECO POINTS +{amount} (32sp, #81C784, bold, text-shadow)",
              "적립 사유 텍스트 (20sp, #B0BEC5) - '경제속도 (75km/h) 준수'"
            ],
            "animation": {
              "initial": "opacity=0, y=20",
              "animate": "opacity=1, y=0",
              "exit": "opacity=0, y=-20",
              "transition": "delay 2.8s, duration 0.8s, ease cubic"
            },
            "implementation": {
              "library": "Motion (Framer Motion)",
              "components": ["AnimatePresence", "motion.div"],
              "state": "showPoints (useState boolean)"
            }
          },
          
          "feedback_side_panel": {
            "file": "/components/FeedbackSidePanel.tsx",
            "position": "absolute right-0 top-0 bottom-0",
            "width": "400px",
            "background": "#1A1A1A",
            "padding": "40px 32px",
            "header": {
              "icon": "Award (24dp, #81C784)",
              "title": "오늘의 리워드 (24sp)",
              "subtitle": "친환경 운전으로 포인트를 획득했어요 (14sp, #B0BEC5)"
            },
            "total_card": {
              "background": "gradient (#81C784 to #66BB6A)",
              "padding": "24px",
              "border_radius": "16px",
              "shadow": "0 4px 16px rgba(129,199,132,0.3)",
              "content": [
                "오늘 적립 (14sp, white)",
                "포인트 합계 (36sp, bold, white)",
                "전체 보유: {total} P (12sp, white/80)"
              ],
              "icon": {
                "component": "Leaf",
                "size": "32dp",
                "animation": "rotate [0, 10, 0] (3초 무한)"
              }
            },
            "recent_entries": {
              "title": "적립 내역 (20sp, mb-4)",
              "count": 3,
              "items": [
                {
                  "icon": "Target",
                  "label": "경제속도 준수",
                  "points": 130,
                  "time": "14:23",
                  "color": "#81C784"
                },
                {
                  "icon": "Leaf",
                  "label": "급가속 0회",
                  "points": 85,
                  "time": "14:10",
                  "color": "#66BB6A"
                },
                {
                  "icon": "Zap",
                  "label": "급감속 0회",
                  "points": 85,
                  "time": "14:10",
                  "color": "#64B5F6"
                }
              ],
              "card_style": {
                "background": "#242424",
                "border": "1px solid #2E2E2E",
                "padding": "16dp",
                "border_radius": "12px",
                "hover_effect": "bg-[#2A2A2A]",
                "transition": "colors"
              }
            }
          }
        }
      },
      
      {
        "name": "PointManagementScreen",
        "file": "/components/PointManagementPage.tsx",
        "description": "포인트 내역, 리포트, 교환 관리 화면",
        "layout": {
          "header": {
            "title": "포인트 관리 (28sp)",
            "subtitle": "포인트 현황과 교환 내역을 확인하세요 (16sp)"
          },
          "tabs": {
            "style": "Horizontal tabs",
            "height": "48dp",
            "background": "#1E1E1E",
            "active_color": "#81C784",
            "items": [
              {
                "id": "history",
                "label": "포인트 내역"
              },
              {
                "id": "report",
                "label": "리포트"
              },
              {
                "id": "exchange",
                "label": "포인트 교환"
              }
            ]
          }
        },
        "tabs_content": {
          "history_and_report_unified": {
            "description": "포인트 내역과 리포트 탭을 통합한 개선된 레이아웃 - 스크롤 없이 한 화면에 모든 내용 표시",
            "layout": "상단 3개 통계 카드 + 하단 2열 (거래 내역 / 차트)",
            "top_stats_cards": {
              "grid": "3 columns (equal width)",
              "height": "106dp",
              "gap": "20dp",
              "cards": [
                {
                  "type": "current_balance",
                  "title": "현재 보유 (14sp, #B0BEC5)",
                  "icon": "Wallet (16dp, #81C784)",
                  "value": "{total}P (36sp, #81C784, bold, lineHeight=1)",
                  "subtitle": "전체 보유 포인트 (13sp, #B0BEC5)",
                  "background": "#1E1E1E",
                  "layout": "flex flex-col justify-center"
                },
                {
                  "type": "today_earned",
                  "title": "오늘 적립 (14sp, #B0BEC5)",
                  "icon": "Calendar (16dp, #64B5F6)",
                  "value": "+{today}P (36sp, #64B5F6, bold, lineHeight=1)",
                  "subtitle": "2025.08.14 (13sp, #B0BEC5)",
                  "background": "#1E1E1E",
                  "layout": "flex flex-col justify-center"
                },
                {
                  "type": "week_earned",
                  "title": "이번 주 적립 (14sp, #B0BEC5)",
                  "icon": "TrendingUp (16dp, #A5D6A7)",
                  "value": "+{week}P (36sp, #A5D6A7, bold, lineHeight=1)",
                  "subtitle": "8/8 ~ 8/14 (13sp, #B0BEC5)",
                  "background": "#1E1E1E",
                  "layout": "flex flex-col justify-center"
                }
              ]
            },
            "bottom_content": {
              "grid": "2 columns (equal width)",
              "gap": "20dp",
              "height": "auto (나머지 공간 채우기)",
              "sections": [
                {
                  "type": "transaction_history",
                  "title": "거래 내역 (20sp)",
                  "background": "#1E1E1E",
                  "scrollable": true,
                  "max_height": "280dp",
                  "items": [
                    {
                      "type": "획득",
                      "icon": "ArrowDownCircle (#81C784)",
                      "label": "경제속도 준수",
                      "points": "+130",
                      "date": "2025.08.14",
                      "time": "14:23"
                    },
                    {
                      "type": "획득",
                      "icon": "ArrowDownCircle (#81C784)",
                      "label": "정속 주행 30분",
                      "points": "+45",
                      "date": "2025.08.14",
                      "time": "13:50"
                    },
                    {
                      "type": "사용",
                      "icon": "ArrowUpCircle (#FFD54F)",
                      "label": "커피 쿠폰 교환",
                      "points": "-300",
                      "date": "2025.08.13",
                      "time": "16:20"
                    }
                  ]
                },
                {
                  "type": "weekly_chart",
                  "title": "주간 적립 추이 (20sp)",
                  "background": "#1E1E1E",
                  "chart": {
                    "library": "Recharts",
                    "type": "LineChart",
                    "height": "280dp",
                    "data": [
                      {"date": "8/8", "points": 98},
                      {"date": "8/9", "points": 124},
                      {"date": "8/10", "points": 145},
                      {"date": "8/11", "points": 132},
                      {"date": "8/12", "points": 167},
                      {"date": "8/13", "points": 189},
                      {"date": "8/14", "points": 210}
                    ],
                    "line_color": "#64B5F6",
                    "line_width": "2.5dp",
                    "fill_gradient": "rgba(100,181,246,0.1) to transparent",
                    "grid_color": "#2E2E2E",
                    "axis_color": "#B0BEC5"
                  }
                }
              ]
            }
          },
          
          "exchange_tab": {
            "grid": "3 columns",
            "gap": "24dp",
            "items": [
              {
                "id": 1,
                "icon": "Coffee",
                "label": "커피 쿠폰",
                "points_required": 300,
                "icon_size": "32dp"
              },
              {
                "id": 2,
                "icon": "BatteryCharging",
                "label": "충전 크레딧",
                "points_required": 800,
                "icon_size": "32dp"
              },
              {
                "id": 3,
                "icon": "Gift",
                "label": "기프트 카드",
                "points_required": 1000,
                "icon_size": "32dp"
              }
            ],
            "card_style": {
              "available": {
                "gradient": "#81C784 to #64B5F6",
                "hover_border": "#81C784",
                "button_text": "교환",
                "button_color": "#81C784"
              },
              "unavailable": {
                "background": "#2E2E2E",
                "opacity": 0.5,
                "button_text": "부족",
                "button_disabled": true
              }
            }
          }
        },
        "dialog": {
          "component": "AlertDialog (shadcn/ui)",
          "title": "교환 확인 (24sp)",
          "message": "{points} 포인트를 사용하여 {item}로 교환하시겠습니까? (16sp)",
          "buttons": [
            {
              "text": "취소",
              "style": "outlined",
              "color": "#B0BEC5"
            },
            {
              "text": "확인",
              "style": "filled",
              "color": "#81C784"
            }
          ]
        }
      },
      
      {
        "name": "DriverAnalysisScreen",
        "file": "/components/DriverAnalysisPage.tsx",
        "description": "운전 패턴 분석 및 피드백 제공 화면",
        "layout": {
          "padding": "40px",
          "overflow": "overflow-y-auto",
          "header": {
            "layout": "flex items-center gap-6 mb-5",
            "left": {
              "title": "운전자 분석 (28sp, #FFFFFF, font-weight: 500)",
              "flex": "flex-shrink-0"
            },
            "right": {
              "component": "feedback_cards_inline",
              "description": "헤더와 같은 줄에 피드백 카드 3개 배치",
              "flex": "flex-1"
            }
          },
          "sections_order": [
            "inline_feedback_cards (헤더 우측)",
            "recent_driving_records",
            "charts_grid",
            "summary_card"
          ]
        },
        
        "feedback_cards": {
          "position": "헤더 우측 (inline)",
          "grid": "3 columns (flex-1 each)",
          "gap": "16px (gap-4)",
          "items": [
            {
              "icon": "ThumbsUp",
              "text": "급가속 3회 감소, 매우 안정적 운전 유지!",
              "color": "#81C784",
              "border_left": "3px"
            },
            {
              "icon": "Leaf",
              "text": "경제속도 유지율 85%, 연비 효율 향상!",
              "color": "#64B5F6",
              "border_left": "3px"
            },
            {
              "icon": "AlertTriangle",
              "text": "급감속 5회 발생 — 부드러운 제동 필요",
              "color": "#FFC107",
              "border_left": "3px"
            }
          ],
          "card_style": {
            "background": "#1E1E1E",
            "border": "#2E2E2E",
            "padding": "16px (p-4)",
            "height": "full (h-full)",
            "shadow": "0px 3px 10px rgba(0,0,0,0.3)"
          },
          "animation": {
            "type": "motion.div",
            "initial": "opacity: 0, y: 10",
            "animate": "opacity: 1, y: 0",
            "transition": "delay: idx * 0.1, duration: 0.6, ease: cubic"
          }
        },

        "recent_driving_records": {
          "description": "주간 캘린더 기반 주행 기록 조회",
          "title": "최근 주행기록 (20sp, #FFFFFF, mb-4)",
          "layout": {
            "weekly_calendar": {
              "description": "7일 주간 캘린더 + 좌우 네비게이션",
              "navigation": {
                "buttons": {
                  "size": "44x44px",
                  "background": "#2E2E2E",
                  "hover": "#3E3E3E",
                  "icon": "ChevronLeft / ChevronRight",
                  "icon_size": "24px",
                  "icon_color": "#81C784"
                },
                "layout": "flex items-center justify-between"
              },
              "day_boxes": {
                "grid": "flex gap-2",
                "count": 7,
                "size": "64x64px",
                "border_radius": "rounded-lg",
                "states": {
                  "default": {
                    "background": "#2E2E2E",
                    "border": "2px solid transparent"
                  },
                  "selected": {
                    "background": "#81C784",
                    "border": "2px solid #81C784",
                    "text_color": "#121212"
                  },
                  "has_data": {
                    "indicator": {
                      "type": "dot",
                      "size": "6x6px",
                      "position": "mt-1",
                      "color_default": "#81C784",
                      "color_selected": "#121212"
                    }
                  }
                },
                "content": [
                  {
                    "element": "요일",
                    "size": "12sp",
                    "color_default": "#B0BEC5",
                    "color_selected": "#121212",
                    "values": ["일", "월", "화", "수", "목", "금", "토"]
                  },
                  {
                    "element": "날짜",
                    "size": "16sp",
                    "margin_top": "2px",
                    "color_default": "#FFFFFF",
                    "color_selected": "#121212"
                  }
                ],
                "interaction": {
                  "onClick": "setSelectedDate(date)",
                  "transition": "transition-all"
                }
              },
              "state_management": {
                "weekOffset": "useState(0) - 주 단위 오프셋",
                "selectedDate": "useState(new Date()) - 선택된 날짜",
                "weekDays": "계산된 7일 배열"
              }
            },
            "selected_date_summary": {
              "description": "선택된 날짜의 주행 데이터 3개 카드",
              "grid": "3 columns (grid-cols-3)",
              "gap": "16px (gap-4)",
              "cards": [
                {
                  "type": "distance",
                  "title": "주행거리 (14sp, #B0BEC5)",
                  "value": "{distance} km (24sp, #FFFFFF)",
                  "unit": "km (16sp, #B0BEC5, ml-1)",
                  "background": "#2E2E2E",
                  "padding": "16px (p-4)",
                  "border_radius": "rounded-lg"
                },
                {
                  "type": "time",
                  "title": "운전 시간 (14sp, #B0BEC5)",
                  "value": "{time} 분 (24sp, #FFFFFF)",
                  "unit": "분 (16sp, #B0BEC5, ml-1)",
                  "background": "#2E2E2E",
                  "padding": "16px (p-4)",
                  "border_radius": "rounded-lg"
                },
                {
                  "type": "points",
                  "title": "획득 포인트 (14sp, #B0BEC5)",
                  "value": "+{points} P (24sp)",
                  "value_color": "#81C784 or #EF5350 (delta 기반)",
                  "delta_indicator": {
                    "icon": "TrendingUp / TrendingDown",
                    "size": "16px",
                    "text": "+{delta}% / -{delta}%",
                    "color": "#81C784 / #EF5350"
                  },
                  "background": "#2E2E2E",
                  "padding": "16px (p-4)",
                  "border_radius": "rounded-lg"
                }
              ],
              "mock_data": {
                "2025-11-01": {"distance": 45.3, "time": 82, "points": 185, "delta": 12},
                "2025-11-02": {"distance": 32.1, "time": 65, "points": 142, "delta": -8},
                "2025-11-03": {"distance": 52.8, "time": 95, "points": 210, "delta": 18},
                "default": {"distance": 0, "time": 0, "points": 0, "delta": 0}
              }
            }
          }
        },

        "charts": {
          "grid": "2 columns (grid-cols-2)",
          "gap": "24px",
          "margin_top": "32px (mt-8)",
          "pattern_chart": {
            "type": "BarChart",
            "library": "Recharts",
            "title": "운전 패턴 분석 (20sp, #FFFFFF, mb-4)",
            "background": "#1E1E1E",
            "height": "250dp",
            "data": [
              {"name": "가속", "negative": 3, "positive": 2},
              {"name": "감속", "negative": 5, "positive": 3},
              {"name": "출발", "negative": 1, "positive": 4},
              {"name": "정지", "negative": 2, "positive": 3}
            ],
            "bars": [
              {
                "dataKey": "negative",
                "stackId": "a",
                "fill": "#EF5350",
                "name": "급함",
                "radius": "[6, 6, 0, 0]"
              },
              {
                "dataKey": "positive",
                "stackId": "a",
                "fill": "#81C784",
                "name": "안정",
                "radius": "[6, 6, 0, 0]"
              }
            ],
            "grid_color": "#2E2E2E",
            "axis_text_size": "14sp",
            "axis_color": "#B0BEC5"
          },
          
          "trend_chart": {
            "type": "Dual LineChart",
            "library": "Recharts",
            "title": "에코 포인트 / 평균 속도 추이 (20sp, #FFFFFF, mb-4)",
            "background": "#1E1E1E",
            "height": "250dp",
            "data": [
              {"date": "8/14", "ecoPoints": 120, "avgSpeed": 62},
              {"date": "8/15", "ecoPoints": 135, "avgSpeed": 65},
              {"date": "8/16", "ecoPoints": 150, "avgSpeed": 67},
              {"date": "8/17", "ecoPoints": 140, "avgSpeed": 70},
              {"date": "8/18", "ecoPoints": 160, "avgSpeed": 72},
              {"date": "8/19", "ecoPoints": 175, "avgSpeed": 73},
              {"date": "8/20", "ecoPoints": 180, "avgSpeed": 74}
            ],
            "lines": [
              {
                "dataKey": "ecoPoints",
                "name": "에코 포인트",
                "stroke": "#81C784",
                "strokeWidth": "2.5dp",
                "yAxisId": "left",
                "dot": {"fill": "#81C784", "r": 4}
              },
              {
                "dataKey": "avgSpeed",
                "name": "평균 속도 (km/h)",
                "stroke": "#64B5F6",
                "strokeWidth": "2.5dp",
                "yAxisId": "right",
                "dot": {"fill": "#64B5F6", "r": 4}
              }
            ],
            "y_axes": [
              {
                "yAxisId": "left",
                "orientation": "left",
                "stroke": "#81C784"
              },
              {
                "yAxisId": "right",
                "orientation": "right",
                "stroke": "#64B5F6"
              }
            ]
          }
        },
        
        "summary_card": {
          "margin_top": "32px (mt-8)",
          "background": "#1E1E1E",
          "height": "160dp",
          "border_radius": "16px",
          "padding": "32px",
          "centered": true,
          "content": {
            "animation": {
              "type": "SVG Circle + Checkmark",
              "component": "motion.svg",
              "size": "64dp",
              "colors": ["#81C784", "#64B5F6"],
              "effect": "path drawing + rotation"
            },
            "title": "종합 분석 대시보드 (20sp, #FFFFFF)",
            "subtitle": "안전하고 경제적인 운전을 실천하고 있습니다 (16sp, #B0BEC5)"
          }
        }
      }
    ]
  },

  "component_files": {
    "core": {
      "/App.tsx": "메인 앱 컴포넌트 - 라우팅, 전역 상태",
      "/components/SplashScreenDark.tsx": "스플래시 화면",
      "/components/SideNav.tsx": "사이드 네비게이션"
    },
    "main_dashboard": {
      "/components/MainDashboardPage.tsx": "메인 대시보드 페이지",
      "/components/PlantScene.tsx": "식물 성장 애니메이션",
      "/components/FeedbackSidePanel.tsx": "우측 피드백 패널"
    },
    "point_management": {
      "/components/PointManagementPage.tsx": "포인트 관리 페이지"
    },
    "driver_analysis": {
      "/components/DriverAnalysisPage.tsx": "운전자 분석 페이지"
    },
    "ui_components": {
      "/components/ui/*": "Shadcn UI 컴포넌트 라이브러리",
      "/components/figma/ImageWithFallback.tsx": "이미지 폴백 컴포넌트"
    }
  },

  "data_models": {
    "EcoPoint": {
      "fields": [
        "id: Long",
        "userId: String",
        "totalPoints: Int",
        "dailyPoints: Int",
        "lastUpdated: Date"
      ]
    },
    "PointEntry": {
      "fields": [
        "id: Long",
        "type: String (획득/사용)",
        "category: String",
        "points: Int",
        "description: String",
        "timestamp: Date",
        "color: String"
      ]
    },
    "DrivingPattern": {
      "fields": [
        "id: Long",
        "date: Date",
        "rapidAcceleration: Int",
        "rapidDeceleration: Int",
        "idleTime: Int",
        "avgSpeed: Float",
        "ecoPoints: Int"
      ]
    },
    "DrivingRecord": {
      "fields": [
        "date: Date",
        "distance: Float (km)",
        "time: Int (분)",
        "points: Int",
        "delta: Int (전일 대비 증감률 %)"
      ],
      "note": "주간 캘린더에서 사용되는 일별 주행 기록"
    },
    "ExchangeItem": {
      "fields": [
        "id: Long",
        "name: String",
        "pointsRequired: Int",
        "icon: String",
        "available: Boolean"
      ]
    }
  },

  "animations": {
    "plant_growth": {
      "library": "Motion (Framer Motion)",
      "type": "Spring Animation",
      "duration": "1600ms",
      "easing": "EaseInOutCubic [0.645, 0.045, 0.355, 1.0]",
      "trigger": "포인트 변경 (showAnimation prop)",
      "properties": {
        "scale": "[0 → 1]",
        "y": "[20 → 0]",
        "stiffness": 80
      }
    },
    "watering_animation": {
      "phases": [
        {"action": "물뿌리개 등장", "duration": "600ms", "properties": ["opacity", "y", "x"]},
        {"action": "기울어짐", "angle": "-25deg", "duration": "2500ms"},
        {"action": "물방울 낙하", "count": 20, "interval": "60ms", "duration": "2000ms"},
        {"action": "사라짐", "duration": "1000ms"}
      ],
      "total_duration": "4000ms",
      "delay": "200ms"
    },
    "sparkle_effect": {
      "count": 16,
      "layout": "4x4 grid",
      "duration": "2600ms",
      "direction": "위로 상승 (y: 0 → -90)",
      "opacity": "[0 → 1 → 0.8 → 0]",
      "scale": "[0 → 1.2 → 1.5 → 0]",
      "delay_base": "2800ms",
      "stagger": "60ms per item"
    },
    "card_entrance": {
      "type": "FadeIn + SlideUp",
      "initial": {"opacity": 0, "y": 10},
      "animate": {"opacity": 1, "y": 0},
      "duration": "600ms",
      "stagger": "100ms",
      "easing": "cubic [0.645, 0.045, 0.355, 1.0]"
    },
    "tab_transition": {
      "type": "Crossfade",
      "duration": "300ms"
    },
    "calendar_transition": {
      "type": "All properties",
      "class": "transition-all",
      "properties": ["background", "border", "color"]
    }
  },

  "state_management": {
    "architecture": "React Hooks (useState, useEffect)",
    "global_state": {
      "isLoading": "boolean - 스플래시 화면 제어",
      "activeScreen": "string - 현재 활성 화면 ('main' | 'points' | 'analysis')",
      "ecoPoints": "number - 전역 포인트 (초기값: 1230)"
    },
    "local_states": {
      "MainDashboardPage": [
        "showPoints: boolean",
        "pointsEarned: number"
      ],
      "DriverAnalysisPage": [
        "weekOffset: number",
        "selectedDate: Date",
        "weekDays: Date[]"
      ]
    },
    "props_flow": {
      "App → MainDashboardPage": "ecoPoints, onPointsChange",
      "App → PointManagementPage": "ecoPoints, onExchange",
      "MainDashboardPage → PlantScene": "showAnimation, points",
      "MainDashboardPage → FeedbackSidePanel": "ecoPoints"
    }
  },

  "libraries": {
    "required": {
      "react": "^18.x",
      "tailwindcss": "^4.0",
      "motion/react": "Framer Motion (Motion)",
      "recharts": "차트 라이브러리",
      "lucide-react": "아이콘",
      "sonner": "^2.0.3 (토스트 알림)"
    },
    "ui_framework": {
      "shadcn/ui": "재사용 가능한 UI 컴포넌트",
      "components": [
        "Card", "Button", "Tabs", "AlertDialog",
        "Dialog", "ScrollArea", "Separator"
      ]
    },
    "android_equivalent": [
      "androidx.compose.ui:ui",
      "androidx.compose.material3:material3",
      "androidx.compose.animation:animation",
      "androidx.lifecycle:lifecycle-viewmodel-compose",
      "androidx.navigation:navigation-compose",
      "com.google.accompanist:accompanist-systemuicontroller",
      "MPAndroidChart 또는 Vico (차트)",
      "Coil (이미지 로딩)",
      "kotlinx-coroutines-android"
    ],
    "optional": [
      "Lottie (추가 애니메이션)",
      "Room (로컬 데이터베이스)",
      "Retrofit (API 연동 시)"
    ]
  },

  "features": {
    "core": [
      "포인트 실시간 적립 및 표시",
      "식물 성장 비주얼 피드백 (3단계)",
      "운전 패턴 분석 및 시각화",
      "포인트 교환 시스템",
      "일별/주별 리포트",
      "주간 캘린더 기반 주행 기록 조회"
    ],
    "animations": [
      "식물 성장 애니메이션 (3단계)",
      "물뿌리개 물주기 효과",
      "반짝임 효과 (sparkles)",
      "카드 등장 애니메이션 (순차 페이드인)",
      "차트 그리기 애니메이션",
      "물 스플래시 효과",
      "네비게이션 활성 표시 애니메이션"
    ],
    "ux": [
      "IVI 최적화 터치 타겟 (88x88dp)",
      "다크 테마 일관성",
      "명확한 시각적 피드백",
      "직관적인 네비게이션",
      "고대비 텍스트 (#FFFFFF, #B0BEC5)",
      "Hover/Active 상태 표시",
      "반응형 차트",
      "주간 캘린더 인터랙션"
    ]
  },

  "development_notes": {
    "performance": [
      "React 최적화 (useMemo, useCallback)",
      "차트 데이터 효율적 렌더링",
      "애니메이션 최적화 (Motion)",
      "이미지 lazy loading (ImageWithFallback)",
      "60fps 유지 목표"
    ],
    "accessibility": [
      "최소 터치 영역 준수",
      "고대비 색상 사용",
      "명확한 아이콘 + 텍스트 레이블",
      "키보드 네비게이션 지원 (웹)"
    ],
    "design_consistency": [
      "통일된 색상 팔레트",
      "일관된 border-radius (8/12/16/20dp)",
      "통일된 그림자 효과",
      "일관된 spacing (40/24/12px)",
      "일관된 애니메이션 easing"
    ],
    "code_organization": [
      "컴포넌트 분리 (Single Responsibility)",
      "재사용 가능한 UI 컴포넌트 (shadcn/ui)",
      "Props 인터페이스 정의",
      "Mock 데이터 구조 명확화",
      "타입 안정성 (TypeScript)"
    ],
    "android_migration": [
      "Jetpack Compose로 변환 가능한 구조",
      "MVVM 패턴 적용 준비",
      "StateFlow 대체 가능한 상태 관리",
      "Composable 함수로 매핑 가능",
      "Material Design 3 호환"
    ]
  },

  "version_history": {
    "v1.0": "초기 구현 - 메인 대시보드, 포인트 관리, 운전자 분석",
    "v1.1": "운전자 분석 페이지에 '최근 주행기록' 기능 추가",
    "v1.2": "주간 캘린더 UI 개선 (64x64px 박스)"
  },

  "future_enhancements": [
    "다국어 지원 (i18n)",
    "음성 피드백",
    "실시간 운전 데이터 연동",
    "AI 기반 운전 패턴 분석",
    "소셜 공유 기능",
    "월간/연간 리포트",
    "게임화 요소 (배지, 레벨)",
    "커뮤니티 랭킹"
  ]
}
